jQuery(document).ready((function($){const features=[["seopress_titles","seopress_titles_home"],["seopress_xml_sitemap_tab","seopress_xml_sitemap_general"],["seopress_social_tab","seopress_social_knowledge"],["seopress_advanced_tab","seopress_advanced_image"],["seopress_google_analytics_enable","seopress_google_analytics_enable"],["seopress_tool_settings","seopress_tool_settings"],["seopress_instant_indexing_general","seopress_instant_indexing_general"],["seopress_insights_general","seopress_insights_general"]];function sp_get_field_length(e){return e.val().length>0?meta=e.val()+" ":meta=e.val(),meta}features.forEach((function(item){var hash=$(location).attr("hash").split("#tab=")[1];if(void 0!==hash)$("#"+hash+"-tab").addClass("nav-tab-active"),$("#"+hash).addClass("active");else{if("undefined"!=typeof sessionStorage&&"null"!=typeof sessionStorage){var seopress_tab_session_storage=sessionStorage.getItem("seopress_save_tab");seopress_tab_session_storage&&$("#"+seopress_tab_session_storage+"-tab").length?($("#seopress-tabs").find(".nav-tab.nav-tab-active").removeClass("nav-tab-active"),$("#seopress-tabs").find(".seopress-tab.active").removeClass("active"),$("#"+seopress_tab_session_storage+"-tab").addClass("nav-tab-active"),$("#"+seopress_tab_session_storage).addClass("active")):($("#tab_"+item[1]+"-tab").addClass("nav-tab-active"),$("#tab_"+item[1]).addClass("active"))}$("#seopress-tabs").find("a.nav-tab").click((function(e){e.preventDefault();var hash=$(this).attr("href").split("#tab=")[1];$("#seopress-tabs").find(".nav-tab.nav-tab-active").removeClass("nav-tab-active"),$("#"+hash+"-tab").addClass("nav-tab-active"),sessionStorage.setItem("seopress_save_tab",hash),$("#seopress-tabs").find(".seopress-tab.active").removeClass("active"),$("#"+hash).addClass("active")}))}}));let alreadyBind=!1;if($("#seopress-tag-site-title").click((function(){$("#seopress_titles_home_site_title").val(sp_get_field_length($("#seopress_titles_home_site_title"))+$("#seopress-tag-site-title").attr("data-tag"))})),$("#seopress-tag-site-desc").click((function(){$("#seopress_titles_home_site_title").val(sp_get_field_length($("#seopress_titles_home_site_title"))+$("#seopress-tag-site-desc").attr("data-tag"))})),$("#seopress-tag-site-sep").click((function(){$("#seopress_titles_home_site_title").val(sp_get_field_length($("#seopress_titles_home_site_title"))+$("#seopress-tag-site-sep").attr("data-tag"))})),$("#seopress-tag-meta-desc").click((function(){$("#seopress_titles_home_site_desc").val(sp_get_field_length($("#seopress_titles_home_site_desc"))+$("#seopress-tag-meta-desc").attr("data-tag"))})),$("#seopress-tag-post-author").click((function(){$("#seopress_titles_archive_post_author").val(sp_get_field_length($("#seopress_titles_archive_post_author"))+$("#seopress-tag-post-author").attr("data-tag"))})),$("#seopress-tag-sep-author").click((function(){$("#seopress_titles_archive_post_author").val(sp_get_field_length($("#seopress_titles_archive_post_author"))+$("#seopress-tag-sep-author").attr("data-tag"))})),$("#seopress-tag-site-title-author").click((function(){$("#seopress_titles_archive_post_author").val(sp_get_field_length($("#seopress_titles_archive_post_author"))+$("#seopress-tag-site-title-author").attr("data-tag"))})),$("#seopress-tag-archive-date").click((function(){$("#seopress_titles_archives_date_title").val(sp_get_field_length($("#seopress_titles_archives_date_title"))+$("#seopress-tag-archive-date").attr("data-tag"))})),$("#seopress-tag-sep-date").click((function(){$("#seopress_titles_archives_date_title").val(sp_get_field_length($("#seopress_titles_archives_date_title"))+$("#seopress-tag-sep-date").attr("data-tag"))})),$("#seopress-tag-site-title-date").click((function(){$("#seopress_titles_archives_date_title").val(sp_get_field_length($("#seopress_titles_archives_date_title"))+$("#seopress-tag-site-title-date").attr("data-tag"))})),$("#seopress-tag-search-keywords").click((function(){$("#seopress_titles_archives_search_title").val(sp_get_field_length($("#seopress_titles_archives_search_title"))+$("#seopress-tag-search-keywords").attr("data-tag"))})),$("#seopress-tag-sep-search").click((function(){$("#seopress_titles_archives_search_title").val(sp_get_field_length($("#seopress_titles_archives_search_title"))+$("#seopress-tag-sep-search").attr("data-tag"))})),$("#seopress-tag-site-title-search").click((function(){$("#seopress_titles_archives_search_title").val(sp_get_field_length($("#seopress_titles_archives_search_title"))+$("#seopress-tag-site-title-search").attr("data-tag"))})),$("#seopress-tag-site-title-404").click((function(){$("#seopress_titles_archives_404_title").val(sp_get_field_length($("#seopress_titles_archives_404_title"))+$("#seopress-tag-site-title-404").attr("data-tag"))})),$("#seopress-tag-sep-404").click((function(){$("#seopress_titles_archives_404_title").val(sp_get_field_length($("#seopress_titles_archives_404_title"))+$("#seopress-tag-sep-404").attr("data-tag"))})),$("#seopress-tag-post-title-bd-groups").click((function(){$("#seopress_titles_bp_groups_title").val(sp_get_field_length($("#seopress_titles_bp_groups_title"))+$("#seopress-tag-post-title-bd-groups").attr("data-tag"))})),$("#seopress-tag-sep-bd-groups").click((function(){$("#seopress_titles_bp_groups_title").val(sp_get_field_length($("#seopress_titles_bp_groups_title"))+$("#seopress-tag-sep-bd-groups").attr("data-tag"))})),$("#seopress-tag-site-title-bd-groups").click((function(){$("#seopress_titles_bp_groups_title").val(sp_get_field_length($("#seopress_titles_bp_groups_title"))+$("#seopress-tag-site-title-bd-groups").attr("data-tag"))})),$(".seopress-tag-dropdown").each((function(item){const input_title=$(this).parent(".wrap-tags").prev("input"),input_desc=$(this).parent(".wrap-tags").prev("textarea"),_self=$(this);function handleClickLi(current){_self.hasClass("tag-title")&&(input_title.val(sp_get_field_length(input_title)+$(current).attr("data-value")),input_title.trigger("paste")),_self.hasClass("tag-description")&&(input_desc.val(sp_get_field_length(input_desc)+$(current).attr("data-value")),input_desc.trigger("paste"))}$(this).on("click",(function(){function closeItem(e){$(e.target).hasClass("dashicons")||$(e.target).hasClass("seopress-tag-single-all")||(alreadyBind=!1,$(document).off("click",closeItem),$(".sp-wrap-tag-variables-list").removeClass("open"))}$(this).next(".sp-wrap-tag-variables-list").toggleClass("open"),$(this).next(".sp-wrap-tag-variables-list").find("li").on("click",(function(e){handleClickLi(this),e.stopImmediatePropagation()})).on("keyup",(function(e){13===e.keyCode&&(handleClickLi(this),e.stopImmediatePropagation())})),alreadyBind||(alreadyBind=!0,$(document).on("click",closeItem))}))})),$("#seopress_instant_indexing_manual_batch").length){newLines=$("#seopress_instant_indexing_manual_batch").val().split("\n").length,$("#seopress_instant_indexing_url_count").text(newLines);var lines=100,linesUsed=$("#seopress_instant_indexing_url_count");if(newLines){var progress=newLines;progress>=100&&(progress=100),$("#seopress_instant_indexing_url_progress").attr("aria-valuenow",progress),$("#seopress_instant_indexing_url_progress").text(progress+"%"),$("#seopress_instant_indexing_url_progress").css("width",progress+"%")}$("#seopress_instant_indexing_manual_batch").on("keyup paste change click focus mouseout",(function(e){if(newLines=$(this).val().split("\n").length,linesUsed.text(newLines),newLines>100?linesUsed.css("color","red"):linesUsed.css("color",""),newLines)var progress=newLines;progress>=100&&(progress=100),$("#seopress_instant_indexing_url_progress").attr("aria-valuenow",progress),$("#seopress_instant_indexing_url_progress").text(progress+"%"),$("#seopress_instant_indexing_url_progress").css("width",progress+"%")}))}$("#seopress_instant_indexing_google_action_include[URL_UPDATED]").is(":checked"),$(".seopress-instant-indexing-batch").on("click",(function(){$("#seopress-tabs .spinner").css("visibility","visible"),$("#seopress-tabs .spinner").css("float","none"),$.ajax({method:"POST",url:seopressAjaxInstantIndexingPost.seopress_instant_indexing_post,data:{action:"seopress_instant_indexing_post",urls_to_submit:$("#seopress_instant_indexing_manual_batch").val(),indexnow_api:$("#seopress_instant_indexing_bing_api_key").val(),google_api:$("#seopress_instant_indexing_google_api_key").val(),update_action:!!$("#seopress_instant_indexing_google_action_include_URL_UPDATED").is(":checked")&&"URL_UPDATED",delete_action:!!$("#seopress_instant_indexing_google_action_include_URL_DELETED").is(":checked")&&"URL_DELETED",google:!!$("#seopress_instant_indexing_engines_google").is(":checked"),bing:!!$("#seopress_instant_indexing_engines_bing").is(":checked"),automatic_submission:!!$("#seopress_instant_indexing_automate_submission").is(":checked"),_ajax_nonce:seopressAjaxInstantIndexingPost.seopress_nonce},success:function(data){window.location.reload(!0)}})})),$(".seopress-instant-indexing-refresh-api-key").on("click",(function(){$.ajax({method:"POST",url:seopressAjaxInstantIndexingApiKey.seopress_instant_indexing_generate_api_key,data:{action:"seopress_instant_indexing_generate_api_key",_ajax_nonce:seopressAjaxInstantIndexingApiKey.seopress_nonce},success:function(success){!0===success.success&&window.location.reload(!0)}})}))}));