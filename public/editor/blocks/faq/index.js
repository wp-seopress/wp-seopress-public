(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,s=window.wp.blockEditor,a=window.wp.data;var n=window.wp,r=n.data.withSelect,l=(n.element.Component,n.components),o=l.Spinner,i=l.Button,c=(l.ResponsiveWrapper,n.compose.compose),__=n.i18n.__,u=["image"];const p=c(r((function(e,t){return{image:t.value?e("core").getMedia(t.value):null}})))((function(e){var t=e.value,a=e.image,n=React.createElement("p",null,__("To edit the background image, you need permission to upload media.","wp-seopress"));return React.createElement("div",{className:"wp-block-wp-seopress-image"},React.createElement(s.MediaUploadCheck,{fallback:n},React.createElement(s.MediaUpload,{title:__("Set Image","wp-seopress"),onSelect:function(t){e.onSelect(t.id,e.index)},allowedTypes:u,value:t,render:function(s){var n=s.open,r=function(t){var s=null;try{if(null!=t&&((s={}).source_url=t.guid.raw,null!=t.media_details.sizes))switch(s=null,e.imageSize){case"thumbnail":s=null!=t?t.media_details.sizes.thumbnail:null;break;case"medium":s=null!=t?t.media_details.sizes.medium:null;break;case"large":s=null!=t?null!=t.media_details.sizes.large?t.media_details.sizes.large:t.media_details.sizes.medium_large:null;break;default:s=null!=t?t.media_details.sizes.full:null}return s}catch(e){return s}}(a);return React.createElement(i,{className:t?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:n},!t&&__("Set Image","wp-seopress"),!!t&&!a&&React.createElement(o,null),!!t&&a&&r&&r.source_url&&React.createElement("img",{src:r.source_url,alt:__("Set Image","wp-seopress")}))}})),!!t&&React.createElement(s.MediaUploadCheck,null,React.createElement(i,{onClick:function(){e.onRemoveImage(e.index)},isLink:!0,isDestructive:!0},__("Remove Image","wp-seopress"))))})),m=window.wp.components,d=function(e){var a=e.attributes,n=e.setAttributes,r=a.listStyle,l=a.titleWrapper,o=a.imageSize,i=a.showFAQScheme,c=a.showAccordion,u=a.isProActive;return React.createElement(s.InspectorControls,null,React.createElement(m.PanelBody,{title:(0,t.__)("FAQ Settings","wp-seopress")},React.createElement(m.PanelRow,{className:"wpseopress-faqs-list-style"},React.createElement("h3",null,(0,t.__)("List Style","wp-seopress")),React.createElement(m.ButtonGroup,null,React.createElement(m.Button,{isPressed:"none"==r,onClick:function(e){n({listStyle:"none"})}},(0,t._x)("NONE","Div tag List","wp-seopress")),React.createElement(m.Button,{isPressed:"ol"==r,onClick:function(e){n({listStyle:"ol"})}},(0,t._x)("OL","Numbered List","wp-seopress")),React.createElement(m.Button,{isPressed:"ul"==r,onClick:function(e){n({listStyle:"ul"})}},(0,t._x)("UL","Unordered List","wp-seopress")))),React.createElement(m.PanelRow,{className:"wpseopress-faqs-title-wrapper"},React.createElement("h3",null,(0,t.__)("Title Wrapper","wp-seopress")),React.createElement(m.ButtonGroup,null,React.createElement(m.Button,{isPressed:"h2"==l,onClick:function(e){n({titleWrapper:"h2"})}},(0,t._x)("H2","H2 title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"h3"==l,onClick:function(e){n({titleWrapper:"h3"})}},(0,t._x)("H3","H3 title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"h4"==l,onClick:function(e){n({titleWrapper:"h4"})}},(0,t._x)("H4","H4 title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"h5"==l,onClick:function(e){n({titleWrapper:"h5"})}},(0,t._x)("H5","H5 title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"h6"==l,onClick:function(e){n({titleWrapper:"h6"})}},(0,t._x)("H6","H6 title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"p"==l,onClick:function(e){n({titleWrapper:"p"})}},(0,t._x)("P","P title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"div"==l,onClick:function(e){n({titleWrapper:"div"})}},(0,t._x)("DIV","DIV title tag","wp-seopress")))),React.createElement(m.PanelRow,{className:"wpseopress-faqs-image-size"},React.createElement("h3",null,(0,t.__)("Image Size","wp-seopress")),React.createElement(m.ButtonGroup,null,React.createElement(m.Button,{isPressed:"thumbnail"==o,onClick:function(e){n({imageSize:"thumbnail"})}},(0,t._x)("S","Thubmnail Size","wp-seopress")),React.createElement(m.Button,{isPressed:"medium"==o,onClick:function(e){n({imageSize:"medium"})}},(0,t._x)("M","Medium Size","wp-seopress")),React.createElement(m.Button,{isPressed:"large"==o,onClick:function(e){n({imageSize:"large"})}},(0,t._x)("L","Large Size","wp-seopress")),React.createElement(m.Button,{isPressed:"full"==o,onClick:function(e){n({imageSize:"full"})}},(0,t._x)("XL","Original Size","wp-seopress")))),u&&React.createElement(React.Fragment,null,React.createElement(m.PanelRow,{className:"wpseopress-faqs-seo-settings"},React.createElement("h3",null,(0,t.__)("SEO Settings","wp-seopress")),React.createElement(m.ToggleControl,{label:(0,t.__)("Enable FAQ Schema","wp-seopress"),checked:!!i,onChange:function(e){n({showFAQScheme:!i})}}))),React.createElement(m.PanelRow,{className:"wpseopress-faqs-display-settings"},React.createElement("h3",null,(0,t.__)("Display","wp-seopress")),React.createElement(m.ToggleControl,{label:(0,t.__)("Enable accordion","wp-seopress"),checked:!!c,onChange:function(e){n({showAccordion:!c})}}))))};function f(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function w(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?f(Object(s),!0).forEach((function(t){g(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function g(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}const _=(0,a.withSelect)((function(e,t){var s=t.attributes,a=e("core").getMedia,n=s.selectedImageId;return{selectedImage:n?a(n):0}}))((function(e){var a=e.attributes,n=e.setAttributes,r=a.listStyle,l=function(){return"none"===a.listStyle&&a.faqs.map((function(e,n){return React.createElement("div",{key:n,className:"wpseopress-faqs-area"},React.createElement("div",{className:"wpseopress-faq"},React.createElement(s.RichText,{tagName:a.titleWrapper,className:"wpseopress-faq-question",placeholder:(0,t.__)("Question...","wp-seopress"),value:e?e.question:"",onChange:function(e){return i(e,n)}}),React.createElement("div",{className:"wpseopress-answer-meta"},React.createElement(p,{value:e?e.image:"",onSelect:u,onRemoveImage:m,imageSize:a.imageSize,index:n}),React.createElement(s.RichText,{tagName:"p",className:"wpseopress-faq-answer",placeholder:(0,t.__)("Answer...","wp-seopress"),value:e?e.answer:"",onChange:function(e){return c(e,n)}}))),React.createElement("div",{className:"wpseopress-faq-cta"},React.createElement("button",{className:"components-button is-tertiary is-destructive",value:(0,t.__)("Remove","wp-seopress"),onClick:function(){return o(n)}},(0,t.__)("Remove","wp-seopress"))))}))||("ul"===a.listStyle||"ol"===a.listStyle)&&a.faqs.map((function(e,n){return React.createElement("li",{key:n,className:"wpseopress-faqs-area"},React.createElement("div",{className:"wpseopress-faq"},React.createElement(s.RichText,{tagName:a.titleWrapper,className:"wpseopress-faq-question",placeholder:(0,t.__)("Question...","wp-seopress"),value:e?e.question:"",onChange:function(e){return i(e,n)}}),React.createElement("div",{className:"wpseopress-answer-meta"},React.createElement(p,{value:e?e.image:"",onSelect:u,onRemoveImage:m,imageSize:a.imageSize,index:n}),React.createElement(s.RichText,{tagName:"div",className:"wpseopress-faq-answer",placeholder:(0,t.__)("Answer...","wp-seopress"),value:e?e.answer:"",onChange:function(e){return c(e,n)}}))),React.createElement("div",{className:"wpseopress-faq-cta"},React.createElement("button",{className:"components-button is-tertiary is-destructive",value:(0,t.__)("Remove","wp-seopress"),onClick:function(){return o(n)}},(0,t.__)("Remove","wp-seopress"))))}))},o=function(t){var s=a.faqs.filter((function(e,s){return s!==t}));e.setAttributes({faqs:s})},i=function(t,s){var n=a.faqs.map((function(e,a){return a!==s?e:w(w({},e),{},{question:t})}));e.setAttributes({faqs:n})},c=function(t,s){var n=a.faqs.map((function(e,a){return a!==s?e:w(w({},e),{},{answer:t})}));e.setAttributes({faqs:n})},u=function(t,s){var n=a.faqs.map((function(e,a){return a!==s?e:w(w({},e),{},{image:t})}));e.setAttributes({faqs:n})},m=function(t){var s=a.faqs.map((function(e,s){return s!==t?e:w(w({},e),{},{image:null})}));e.setAttributes({faqs:s})};return React.createElement(React.Fragment,null,React.createElement(d,{attributes:a,setAttributes:n}),React.createElement("div",(0,s.useBlockProps)({className:"wpseopress-faqs"}),"ul"===r&&React.createElement("ul",null,l()),"ol"===r&&React.createElement("ol",null,l()),"none"===r&&l(),React.createElement("div",{className:"wpseopress-faqs-actions"},React.createElement("button",{type:"button",title:(0,t.__)("Add FAQ","wp-seopress"),className:"add-faq components-button is-secondary",onClick:function(t){var s;t.preventDefault(),e.setAttributes({faqs:[].concat((s=a.faqs,function(e){if(Array.isArray(e))return R(e)}(s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?R(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{question:"",answer:"",image:""}])})}},(0,t.__)("Add FAQ","wp-seopress")))))})),E=JSON.parse('{"u2":"wpseopress/faq-block"}');(0,e.registerBlockType)(E.u2,{title:(0,t.__)("FAQ","wp-seopress"),description:(0,t.__)("Allows to easily build FAQs.","wp-seopress"),keywords:[(0,t.__)("FAQ","wp-seopress")],edit:_,save:function(){return null}})})();